(()=>{"use strict";var e,i={199:()=>{const e=window.wp.blocks,i=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.data,a=window.wp.element,o=window.wp.components,n=window.ReactJSXRuntime,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"create-block/simple-image-block","version":"0.2.1","title":"Simple Image Block","category":"media","icon":"format-image","description":"A custom image block with extensive styling options","supports":{"html":false,"align":true,"interactivity":{"clientNavigation":true},"lock":false,"__experimentalBind":["url","alt","title"]},"attributes":{"url":{"type":"string","source":"attribute","selector":"img","attribute":"src","role":"content"},"alt":{"type":"string","source":"attribute","selector":"img","attribute":"alt","default":"","role":"content"},"title":{"type":"string","source":"attribute","selector":"img","attribute":"title","role":"content"},"id":{"type":"number"},"metadata":{"type":"object"},"imageSize":{"type":"string","default":"full"},"width":{"type":"string"},"height":{"type":"string"},"sizeUnit":{"type":"string","default":"px"},"maxWidth":{"type":"string"},"maxHeight":{"type":"string"},"maxWidthUnit":{"type":"string","default":"px"},"maxHeightUnit":{"type":"string","default":"px"},"minWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidthUnit":{"type":"string","default":"px"},"minHeightUnit":{"type":"string","default":"px"},"aspectRatio":{"type":"string"},"objectFit":{"type":"string","default":"cover"},"borderRadius":{"type":"string","default":"0"},"borderRadiusUnit":{"type":"string","default":"px"},"borderWidth":{"type":"string","default":"0"},"borderStyle":{"type":"string","default":"solid"},"borderColor":{"type":"string"},"marginTop":{"type":"string","default":"0"},"marginRight":{"type":"string","default":"0"},"marginBottom":{"type":"string","default":"0"},"marginLeft":{"type":"string","default":"0"},"marginUnit":{"type":"string","default":"px"}},"textdomain":"simple-image-block","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","usesContext":["pattern/overrides","core/pattern-overrides","postId","postType"]}');(0,e.registerBlockType)(r.name,{...r,edit:function({attributes:e,setAttributes:r,context:s,isSelected:d}){const{url:m,alt:p,title:c,id:g,width:u,height:b,sizeUnit:h,maxWidth:v,maxHeight:x,maxWidthUnit:_,maxHeightUnit:k,minWidth:y,minHeight:f,minWidthUnit:j,minHeightUnit:w,aspectRatio:C,objectFit:U,borderRadius:S,borderRadiusUnit:B,borderWidth:R,borderStyle:W,borderColor:T,imageSize:H,marginTop:N,marginRight:z,marginBottom:O,marginLeft:I,marginUnit:P}=e,[M,$]=(0,a.useState)(!1),[L,A]=(0,a.useState)([]),F=(0,t.useBlockProps)(),D=void 0!==s?.["pattern/overrides"]||void 0!==s?.["core/pattern-overrides"],E=e.metadata||{},V=E.bindings||{},J=!("core/pattern-overrides"!==V.url?.source&&("core/pattern-overrides"!==V.__default?.source||void 0===m)),G=!("core/pattern-overrides"!==V.alt?.source&&("core/pattern-overrides"!==V.__default?.source||void 0===p)),K=!("core/pattern-overrides"!==V.title?.source&&("core/pattern-overrides"!==V.__default?.source||void 0===c)),X=J||G||K;console.log("Simple Image Block Debug:",{wordpressVersion:window.wp?.coreData?.getEntityRecord?"Modern WP":"Legacy WP",currentEditor:window?.wp?.data?.select("core/editor")?"Post Editor":window?.wp?.data?.select("core/edit-site")?"Site Editor":"Unknown",contextRaw:s,contextKeys:Object.keys(s||{}),patternContext:s?.["pattern/overrides"],corePatternContext:s?.["core/pattern-overrides"],metadata:E,bindings:V,isUrlBound:J,isAltBound:G,isTitleBound:K,hasAnyBinding:X,isInPattern:D,attributes:{url:m,alt:p,title:c},blockName:"create-block/simple-image-block",wpVersion:window?.wp?.coreData?.VERSION||window?.wpApiSettings?.root||"Unknown",isBlockTheme:document.body.classList.contains("block-editor-page"),currentPost:window?.wp?.data?.select("core/editor")?.getCurrentPost?.()?.type||"Unknown"});const q=(0,l.useSelect)((e=>g?e("core").getMedia(g):null),[g]);(0,a.useEffect)((()=>{if(!q||!q.media_details||!q.media_details.sizes)return;const e={thumbnail:1,medium:2,medium_large:3,large:4,"1536x1536":5,"2048x2048":6,full:999},i=Object.keys(q.media_details.sizes).filter((e=>{const i=q.media_details.sizes[e];return i&&i.width&&i.height})).map((i=>{const t=q.media_details.sizes[i];let l=i.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()));return/^\d+x\d+$/.test(i)?l=`${i} (${t.width}×${t.height})`:l+=` (${t.width}×${t.height})`,{value:i,label:l,order:e[i]||50}}));i.some((e=>"full"===e.value))||i.push({value:"full",label:`Full Size (${q.media_details.width}×${q.media_details.height})`,order:e.full});const t=i.sort(((e,i)=>e.order-i.order));A(t)}),[q]);const Q=e=>{e&&e.url?($(!0),r({url:e.url,id:e.id,alt:e.alt||"",title:e.title||"",imageSize:"full"}),$(!1)):r({url:void 0,id:void 0,alt:"",title:""})},Y=(e,i)=>{if(!e)return void r({[`margin${i}`]:"0"});const t=e.replace(/[^0-9.-]/g,""),l=e.replace(/[0-9.-]/g,"");r({[`margin${i}`]:t,marginUnit:l||"px"})},Z={width:u?u+h:void 0,height:b?b+h:void 0,maxWidth:v?v+_:void 0,maxHeight:x?x+k:void 0,minWidth:y?y+j:void 0,minHeight:f?f+w:void 0,aspectRatio:C||void 0,objectFit:U||void 0,borderRadius:S?S+B:void 0,borderWidth:R?R+"px":void 0,borderStyle:W||void 0,borderColor:T||void 0,marginTop:N?N+P:void 0,marginRight:z?z+P:void 0,marginBottom:O?O+P:void 0,marginLeft:I?I+P:void 0},ee=[{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"},{value:"rem",label:"rem"},{value:"vw",label:"vw"},{value:"vh",label:"vh"}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.InspectorControls,{children:[X&&(0,n.jsxs)(o.PanelBody,{title:(0,i.__)("Pattern Overrides","simple-image-block"),initialOpen:!0,children:[(0,n.jsx)(o.Notice,{status:"info",isDismissible:!1,children:(0,n.jsx)("p",{children:(0,i.__)("This block is part of a synced pattern. Some attributes are connected to pattern overrides.","simple-image-block")})}),J&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,i.__)("Image URL:","simple-image-block")})," ",(0,i.__)("Connected to pattern override","simple-image-block")]}),G&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,i.__)("Alt Text:","simple-image-block")})," ",(0,i.__)("Connected to pattern override","simple-image-block")]}),K&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,i.__)("Title:","simple-image-block")})," ",(0,i.__)("Connected to pattern override","simple-image-block")]})]}),(0,n.jsxs)(o.PanelBody,{title:(0,i.__)("Image Settings","simple-image-block"),initialOpen:!0,children:[(0,n.jsx)(t.MediaUploadCheck,{children:(0,n.jsx)(t.MediaUpload,{onSelect:Q,allowedTypes:["image"],value:g,render:({open:e})=>(0,n.jsxs)(o.Button,{onClick:e,variant:"primary",className:"editor-media-placeholder__button",style:{marginBottom:"12px",display:"block",width:"100%"},disabled:J,children:[m?(0,i.__)("Replace Image","simple-image-block"):(0,i.__)("Select Image","simple-image-block"),J&&(0,i.__)(" (Disabled - Connected to pattern)","simple-image-block")]})})}),m&&(0,n.jsxs)(n.Fragment,{children:[M?(0,n.jsxs)("div",{className:"simple-image-block__loading",children:[(0,n.jsx)(o.Spinner,{}),(0,n.jsx)("p",{children:(0,i.__)("Loading image...","simple-image-block")})]}):L.length>0&&(0,n.jsxs)("div",{className:"simple-image-block__size-selector",children:[(0,n.jsx)(o.SelectControl,{label:(0,i.__)("Image Size","simple-image-block"),value:H||"full",options:L,onChange:e=>{g&&($(!0),r({imageSize:e}),"full"===e?q&&q.source_url&&r({url:q.source_url}):q&&q.media_details&&q.media_details.sizes&&q.media_details.sizes[e]&&r({url:q.media_details.sizes[e].source_url}),$(!1))},className:"simple-image-block__size-select",disabled:J}),(0,n.jsxs)("p",{className:"simple-image-block__size-help",children:[(0,i.__)("Select the size of the image to display.","simple-image-block"),J&&(0,i.__)(" (Disabled - Connected to pattern)","simple-image-block")]})]}),(0,n.jsx)(o.TextControl,{label:(0,i.__)("Alt Text","simple-image-block"),value:p,onChange:e=>r({alt:e}),help:(0,i.__)("Alternative text describes your image to people who cannot see it.","simple-image-block"),disabled:G}),G&&(0,n.jsx)("p",{className:"simple-image-block__binding-notice",children:(0,i.__)("Alt text is connected to a pattern override.","simple-image-block")}),(0,n.jsx)(o.TextControl,{label:(0,i.__)("Title","simple-image-block"),value:c||"",onChange:e=>r({title:e}),help:(0,i.__)("Title attribute for the image (tooltip text).","simple-image-block"),disabled:K}),K&&(0,n.jsx)("p",{className:"simple-image-block__binding-notice",children:(0,i.__)("Title is connected to a pattern override.","simple-image-block")}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Width","simple-image-block"),value:u?u+h:"",onChange:e=>{if(!e)return void r({width:void 0});const i=e.replace(/[^0-9.]/g,""),t=e.replace(/[0-9.]/g,"");r({width:i,sizeUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vw",label:"vw"}]}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Height","simple-image-block"),value:b?b+h:"",onChange:e=>{if(!e)return void r({height:void 0});const i=e.replace(/[^0-9.]/g,""),t=e.replace(/[0-9.]/g,"");r({height:i,sizeUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vh",label:"vh"}]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Max Width","simple-image-block"),value:v?v+_:"",onChange:e=>{if(!e)return void r({maxWidth:void 0});const i=e.replace(/[^\d.\-]/g,""),t=e.replace(/[0-9.\-]/g,"");r({maxWidth:i,maxWidthUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vw",label:"vw"}]}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Max Height","simple-image-block"),value:x?x+k:"",onChange:e=>{if(!e)return void r({maxHeight:void 0});const i=e.replace(/[^\d.\-]/g,""),t=e.replace(/[0-9.\-]/g,"");r({maxHeight:i,maxHeightUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vh",label:"vh"}]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Min Width","simple-image-block"),value:y?y+j:"",onChange:e=>{if(!e)return void r({minWidth:void 0});const i=e.replace(/[^\d.\-]/g,""),t=e.replace(/[0-9.\-]/g,"");r({minWidth:i,minWidthUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vw",label:"vw"}]}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Min Height","simple-image-block"),value:f?f+w:"",onChange:e=>{if(!e)return void r({minHeight:void 0});const i=e.replace(/[^\d.\-]/g,""),t=e.replace(/[0-9.\-]/g,"");r({minHeight:i,minHeightUnit:t||"px"})},units:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"vh",label:"vh"}]})]}),(0,n.jsx)(o.TextControl,{label:(0,i.__)("Aspect Ratio","simple-image-block"),help:(0,i.__)("e.g., 16/9, 4/3, 1/1","simple-image-block"),value:C||"",onChange:e=>r({aspectRatio:e})}),(0,n.jsx)(o.SelectControl,{label:(0,i.__)("Object Fit","simple-image-block"),value:U,options:[{value:"fill",label:"Fill"},{value:"contain",label:"Contain"},{value:"cover",label:"Cover"},{value:"none",label:"None"},{value:"scale-down",label:"Scale Down"}],onChange:e=>r({objectFit:e})}),(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:(0,i.__)("Border Radius","simple-image-block")}),(0,n.jsx)(o.SelectControl,{value:B,options:[{value:"px",label:"px"},{value:"%",label:"%"}],onChange:e=>r({borderRadiusUnit:e}),__nextHasNoMarginBottom:!0,style:{width:"70px"}})]}),(0,n.jsx)(o.RangeControl,{value:parseInt(S)||0,onChange:e=>r({borderRadius:e.toString()}),min:0,max:"px"===B?100:50,__nextHasNoMarginBottom:!0})]}),(0,n.jsxs)(o.PanelBody,{title:(0,i.__)("Border Settings","simple-image-block"),initialOpen:!1,children:[(0,n.jsx)(o.RangeControl,{label:(0,i.__)("Border Width","simple-image-block"),value:parseInt(R)||0,onChange:e=>r({borderWidth:e.toString()}),min:0,max:20}),(0,n.jsx)(o.SelectControl,{label:(0,i.__)("Border Style","simple-image-block"),value:W,options:[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"dotted",label:"Dotted"},{value:"double",label:"Double"},{value:"groove",label:"Groove"},{value:"ridge",label:"Ridge"},{value:"inset",label:"Inset"},{value:"outset",label:"Outset"}],onChange:e=>r({borderStyle:e})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(0,i.__)("Border Color","simple-image-block")}),(0,n.jsx)(o.ColorPalette,{value:T,onChange:e=>r({borderColor:e})})]})]}),(0,n.jsxs)(o.PanelBody,{title:(0,i.__)("Margin Settings","simple-image-block"),initialOpen:!1,children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("All Margins","simple-image-block"),value:N===z&&N===O&&N===I?N+P:"",onChange:e=>{if(!e)return void r({marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0"});const i=e.replace(/[^0-9.-]/g,""),t=e.replace(/[0-9.-]/g,"");r({marginTop:i,marginRight:i,marginBottom:i,marginLeft:i,marginUnit:t||"px"})},units:ee,help:(0,i.__)("Set all margins at once or use individual controls below.","simple-image-block")})}),(0,n.jsxs)("div",{style:{marginTop:"16px"},children:[(0,n.jsx)("h3",{className:"simple-image-block__individual-margins-title",children:(0,i.__)("Individual Margins","simple-image-block")}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"8px"},children:[(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Top","simple-image-block"),value:N+P,onChange:e=>Y(e,"Top"),units:ee}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Right","simple-image-block"),value:z+P,onChange:e=>Y(e,"Right"),units:ee}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Bottom","simple-image-block"),value:O+P,onChange:e=>Y(e,"Bottom"),units:ee}),(0,n.jsx)(o.__experimentalUnitControl,{label:(0,i.__)("Left","simple-image-block"),value:I+P,onChange:e=>Y(e,"Left"),units:ee})]})]})]})]})]})]}),(0,n.jsx)(t.InspectorAdvancedControls,{}),m?(0,n.jsx)(n.Fragment,{children:M?(0,n.jsx)("div",{...F,className:`${F.className||""} simple-image-block__loading-container`.trim(),children:(0,n.jsx)(o.Spinner,{})}):(0,n.jsx)("img",{...F,src:m,alt:p,style:Z,className:`${F.className||""} simple-image-block__image`.trim()})}):(0,n.jsx)(t.MediaUploadCheck,{children:(0,n.jsx)(t.MediaUpload,{onSelect:Q,allowedTypes:["image"],value:g,render:({open:e})=>(0,n.jsx)(o.Button,{...F,onClick:e,variant:"secondary",className:`${F.className||""} simple-image-block__upload-button`.trim(),children:(0,i.__)("Upload Image","simple-image-block")})})})]})},save:function({attributes:e}){const{url:i,alt:l,title:a,width:o,height:r,sizeUnit:s,aspectRatio:d,objectFit:m,borderRadius:p,borderRadiusUnit:c,borderWidth:g,borderStyle:u,borderColor:b,imageSize:h,marginTop:v,marginRight:x,marginBottom:_,marginLeft:k,marginUnit:y,maxWidth:f,maxHeight:j,maxWidthUnit:w,maxHeightUnit:C,minWidth:U,minWidthUnit:S,minHeight:B,minHeightUnit:R}=e;if(!i)return null;const W={width:o?o+s:void 0,height:r?r+s:void 0,maxWidth:f?f+w:void 0,maxHeight:j?j+C:void 0,minWidth:U?U+S:void 0,minHeight:B?B+R:void 0,aspectRatio:d||void 0,objectFit:m||void 0,borderRadius:p?p+c:void 0,borderWidth:g?g+"px":void 0,borderStyle:u||void 0,borderColor:b||void 0,marginTop:v?v+y:void 0,marginRight:x?x+y:void 0,marginBottom:_?_+y:void 0,marginLeft:k?k+y:void 0},T=t.useBlockProps.save();return(0,n.jsx)("img",{...T,src:i,alt:l||"",title:a||void 0,style:W,className:`${T.className||""} simple-image-block__image`.trim()})}})}},t={};function l(e){var a=t[e];if(void 0!==a)return a.exports;var o=t[e]={exports:{}};return i[e](o,o.exports,l),o.exports}l.m=i,e=[],l.O=(i,t,a,o)=>{if(!t){var n=1/0;for(m=0;m<e.length;m++){for(var[t,a,o]=e[m],r=!0,s=0;s<t.length;s++)(!1&o||n>=o)&&Object.keys(l.O).every((e=>l.O[e](t[s])))?t.splice(s--,1):(r=!1,o<n&&(n=o));if(r){e.splice(m--,1);var d=a();void 0!==d&&(i=d)}}return i}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[t,a,o]},l.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),(()=>{var e={57:0,350:0};l.O.j=i=>0===e[i];var i=(i,t)=>{var a,o,[n,r,s]=t,d=0;if(n.some((i=>0!==e[i]))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(s)var m=s(l)}for(i&&i(t);d<n.length;d++)o=n[d],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(m)},t=globalThis.webpackChunksimple_image_block=globalThis.webpackChunksimple_image_block||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var a=l.O(void 0,[350],(()=>l(199)));a=l.O(a)})();